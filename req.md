# AI 原型项目开发规范

## 项目目标
作为产品经理的原型开发辅助工具，需要生成符合前端最佳实践的、易于维护的、模块化的网页原型。

## 项目结构
请创建项目文件目录，并严格按照以下结构组织项目文件：

```
project-root/                 # 新的项目名称
├── docs/
│   ├── CHANGELOG.md          # 变更日志
│   └── COMPONENTS.md         # 组件文档
├── src/
│   ├── components/           # 可复用组件
│   │   └── [ComponentName]/
│   │       ├── index.html    # 组件可独立运行的HTML
│   │       ├── style.css
│   │       └── script.js
│   ├── pages/               # 页面组件
│   │   └── [PageName]/
│   │       ├── index.html    # 页面可独立运行的HTML
│   │       ├── style.css
│   │       └── script.js
│   ├── assets/             # 静态资源
│   │   ├── images/
│   │   ├── styles/
│   │   └── lib/            # 第三方库的本地副本
│   ├── utils/             # 工具函数
│   │   └── helpers.js
│   ├── index.html         # 主页面，是所有页面的入口
│   ├── style.css          # 全局样式
│   └── main.js            # 主脚本
└── metadata.json          # 项目元数据
```

## 独立运行支持

### 1. 资源引用规范
为确保HTML文件可以独立运行，每个HTML文件都需要：

1. 使用相对路径引用资源
2. 包含必要的第三方库（支持本地和CDN双模式）
3. 引入对应的CSS和JavaScript文件

示例结构：
```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>页面标题</title>
    <!-- 本地库引用（优先） -->
    <link rel="stylesheet" href="../../assets/lib/bootstrap.min.css">
    <!-- CDN备选引用 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" 
          onerror="this.onerror=null;this.href='../../assets/lib/bootstrap.min.css';">
    <!-- 页面自身样式 -->
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <!-- 页面内容 -->
    
    <!-- 本地库引用（优先） -->
    <script src="../../assets/lib/bootstrap.bundle.min.js"></script>
    <!-- CDN备选引用 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
            onerror="this.onerror=null;this.src='../../assets/lib/bootstrap.bundle.min.js';"></script>
    <!-- 页面自身脚本 -->
    <script src="./script.js"></script>
</body>
</html>
```

### HTML规范
1. 使用语义化标签（nav, header, main, footer等）
2. 使用有意义的class和id命名
3. 保持结构清晰，适当缩进
4. 每个HTML文件都应该是完整且可独立运行的
5. 使用相对路径引用资源
6. 提供CDN资源加载失败的本地备选方案
7. 确保跨平台兼容性（使用UTF-8编码）

### CSS规范
1. 使用BEM命名规范
2. 组件样式模块化
3. 使用CSS变量定义主题
4. 响应式设计优先
5. 避免使用!important

### JavaScript规范
1. 使用ES6+语法
2. 使用事件委托优化性能
   ```javascript
   // 推荐的事件委托方式
   document.querySelector('.list').addEventListener('click', (e) => {
     if (e.target.matches('.list-item')) {
       // 处理列表项点击
     }
   });
   ```
3. 简单的状态管理
4. 基础的错误处理

## CDN资源使用
请使用以下推荐的CDN资源：

```html
<!-- CSS框架 -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- 图标库 -->
<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css" rel="stylesheet">
```

## 元数据文件格式 (metadata.json)
```json
{
  "projectName": "项目名称",
  "version": "版本号",
  "lastUpdate": "最后更新时间",
  "components": [
    {
      "name": "组件名称",
      "path": "文件路径",
      "description": "功能描述",
      "dependencies": ["依赖组件"]
    }
  ],
  "pages": [
    {
      "name": "页面名称",
      "path": "文件路径",
      "components": ["使用的组件"],
      "description": "页面功能描述"
    }
  ]
}
```

## 交互设计规范

### 1. 基础交互原则
- **反馈及时性**：用户操作后及时反馈
- **可预测性**：交互结果符合预期
- **简单性**：减少操作步骤

### 2. 常见交互模式

#### 2.1 表单交互
```json
{
  "输入框": {
    "必要元素": [
      "标签文本",
      "占位符文本",
      "验证提示",
      "错误状态显示"
    ],
    "交互规则": [
      "实时输入验证",
      "失焦时显示错误提示",
      "清空按钮（当有内容时显示）"
    ],
    "键盘支持": [
      "Enter键提交",
      "Tab键切换焦点"
    ]
  },
  "按钮": {
    "状态展示": [
      "默认状态",
      "悬停状态",
      "点击状态",
      "禁用状态",
      "加载状态"
    ],
    "响应时间": "点击后100ms内显示反馈"
  }
}
```

#### 2.2 列表和表格
```json
{
  "列表加载": {
    "分页模式": ["传统分页", "无限滚动", "加载更多按钮"],
    "加载状态": ["骨架屏", "加载动画", "占位图"],
    "空状态处理": "显示友好的空状态提示和建议操作"
  },
  "表格交互": {
    "排序": "点击表头进行排序，显示排序方向",
    "筛选": "支持多条件组合筛选",
    "选择": ["单选", "多选", "全选/取消全选"],
    "行操作": "重要操作需二次确认"
  }
}
```

#### 2.3 弹窗和提示
```json
{
  "模态框": {
    "打开方式": "渐入动画（200ms）",
    "关闭方式": [
      "关闭按钮",
      "点击遮罩层",
      "ESC键"
    ],
    "位置": "屏幕中央，可视区域内"
  },
  "消息提示": {
    "显示位置": "页面顶部或右上角",
    "显示时长": {
      "成功提示": "2秒",
      "错误提示": "4秒",
      "警告提示": "3秒"
    },
    "最大显示数": "同时最多显示3条"
  }
}
```

### 3. 响应式交互规范

#### 3.1 断点设计
```json
{
  "断点值": {
    "移动端": "< 768px",
    "桌面": ">= 768px"
  },
  "交互调整": {
    "移动端": {
      "导航": "汉堡菜单",
      "表格": "卡片式展示",
      "操作按钮": "底部固定"
    },
    "平板": {
      "导航": "收缩式侧边栏",
      "表格": "横向滚动",
      "操作按钮": "内容区域右侧"
    }
  }
}
```

### 4. 动效规范

#### 4.1 过渡动画
```json
{
  "持续时间": {
    "超短": "100ms",
    "短": "200ms",
    "中": "300ms",
    "长": "400ms"
  },
  "缓动函数": {
    "弹出": "cubic-bezier(0.4, 0, 0.2, 1)",
    "消失": "cubic-bezier(0.4, 0, 1, 1)",
    "强调": "cubic-bezier(0.4, 0, 0.6, 1)"
  }
}
```

### 5. 错误处理规范
```json
{
  "表单验证": {
    "时机": ["实时验证", "提交时验证"],
    "提示方式": ["内联提示", "统一提示"],
    "错误恢复": "提供明确的解决建议"
  },
  "网络错误": {
    "提示类型": ["轻量提示", "模态框警告", "页面级提示"],
    "重试机制": "自动重试或手动重试选项"
  }
}
```

### 6. 无障碍设计规范
- 键盘可访问性
- 屏幕阅读器支持
- 足够的颜色对比度
- 合适的字体大小和间距

### 7. 交互文案规范
```json
{
  "按钮文案": {
    "确认类": ["确认", "保存", "提交"],
    "取消类": ["取消", "关闭", "返回"],
    "危险操作": ["删除", "移除", "清空"]
  },
  "提示文案": {
    "成功提示": "操作成功，简洁明了",
    "错误提示": "说明原因，提供解决方案",
    "警告提示": "说明风险，提供选择"
  },
  "空状态文案": {
    "格式": "说明当前状态 + 推荐操作",
    "语气": "友好积极"
  }
}
```

### 8. 页面状态管理
```json
{
  "加载状态": {
    "初始加载": "骨架屏",
    "局部更新": "加载指示器",
    "后台操作": "进度提示"
  },
  "空状态": {
    "显示内容": [
      "状态说明",
      "引导图片",
      "推荐操作"
    ]
  },
  "错误状态": {
    "显示内容": [
      "错误说明",
      "错误代码",
      "解决建议",
      "重试选项"
    ]
  }
}
```

### 9. 交互评审检查清单
- [ ] 是否符合直觉和习惯
- [ ] 是否提供足够的用户反馈
- [ ] 是否考虑了极端情况
- [ ] 是否支持键盘操作
- [ ] 是否具有足够的容错机制
- [ ] 是否考虑了性能影响
- [ ] 是否支持响应式适配
- [ ] 是否符合无障碍标准
- [ ] 交互文案是否准确友好
- [ ] 是否有完整的状态管理


## 文档要求

### 1. 变更日志 (CHANGELOG.md)
- 记录更新内容
- 版本号
- 更新说明

### 2. 组件文档 (COMPONENTS.md)
- 组件名称和功能
- 使用示例
- 依赖说明

## 开发流程
1. 分析需求
2. 更新元数据
3. 创建/修改组件，添加主文件的入口
4. 更新文档

## 注意事项
1. 保持代码简洁清晰
2. 确保组件可复用性
3. 注重性能优化
4. 考虑浏览器兼容性
5. 保持文档及时更新
